import 'dart:async';
import 'dart:io';
import 'dart:ui';

import 'package:apphud/apphud.dart';
import 'package:apphud/models/apphud_models/apphud_composite_model.dart';
import 'package:flutter/cupertino.dart';
import 'package:flutter/foundation.dart';
import 'package:flutter/material.dart';
import 'package:flutter/widgets.dart';
import 'package:get/get.dart';
import 'package:victory_cosmo_sordiers/bds1/pt_bds1.dart';
import 'package:victory_cosmo_sordiers/classi_modeli1/kletka_model1.dart';
import 'package:victory_cosmo_sordiers/divs1/knopka1.dart';
import 'package:victory_cosmo_sordiers/global_pages1/pl_pg1.dart';
import 'package:victory_cosmo_sordiers/global_pages1/some_some_ekran1.dart';
import 'package:victory_cosmo_sordiers/mvcmvc1/igra_c1.dart';
import 'package:victory_cosmo_sordiers/utiliti1/moneti1.dart';
import 'package:victory_cosmo_sordiers/utiliti1/musica1.dart';

import '../utiliti1/hranilishe1.dart';

class EkranGlavni1 extends StatefulWidget {
  final Offset dfopodfpodfopdfopdf;
  const EkranGlavni1({this.dfopodfpodfopdfopdf = Offset.infinite, super.key});
  final aaa = 'ofgkopsgdkgodfgs';
  final aarqwercwa = 'ofgkopsrcqwrwercqwrgdkgodfgs';
  final arewqraa = 'ofgkopsqercwwegdkgodfgs';
  final aeqrcaa = 'ofgkopsgdreqwcrqwercqwkgodfgs';

  DRAGKGGGGGGGGGGGGG?
      generateP1R323R32RR231o121121245512122vvvx153454534534343sdf44464545sKl(
          PlanetType1 themeP,
          bool idIdiD,
          DRAGK draaaa,
          int f1,
          int ff1,
          int fff1) {
    final String askldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklklds = 1;
    final String askldska1dksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjk1fgjkgfjk = Offset.infinite;
    final alkdkldskdlsk1lklds = 1;
    final String askld1skadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkg1fjkfgjkgfjk = Offset.infinite;
    final alkdkldskdl1sklklds = 1;
    final String askl1dskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gf1kgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskd1lsklklds = 1;
    final String ask1ldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfk1gfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklk11lds = 1;
    print(alkdkldskdlsklklds + 2);
    var gggggg = alkdkldskdlsklklds + 100;
    return null;
  }

  DRAGKGGGGGGGGGGGGG?
      generateP1R323R32RR231o12112124551212215345453453vx4343sdf44464545sKl(
          PlanetType1 themeP,
          bool idIdiD,
          DRAGK draaaa,
          int f1,
          int ff1,
          int fff1) {
    final String askldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklklds = 1;
    final String askldska1dksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjk1fgjkgfjk = Offset.infinite;
    final alkdkldskdlsk1lklds = 1;
    final String askld1skadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkg1fjkfgjkgfjk = Offset.infinite;
    final alkdkldskdl1sklklds = 1;
    final String askl1dskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gf1kgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskd1lsklklds = 1;
    final String ask1ldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfk1gfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklk11lds = 1;
    print(alkdkldskdlsklklds + 2);
    var gggggg = alkdkldskdlsklklds + 100;
    return null;
  }

  DRAGKGGGGGGGGGGGGG?
      generateP1R323R32RR231o1211212455cxcb12122153454534534343sdf44464545sKl(
          PlanetType1 themeP,
          bool idIdiD,
          DRAGK draaaa,
          int f1,
          int ff1,
          int fff1) {
    final String askldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklklds = 1;
    final String askldska1dksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjk1fgjkgfjk = Offset.infinite;
    final alkdkldskdlsk1lklds = 1;
    final String askld1skadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkg1fjkfgjkgfjk = Offset.infinite;
    final alkdkldskdl1sklklds = 1;
    final String askl1dskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gf1kgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskd1lsklklds = 1;
    final String ask1ldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfk1gfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklk11lds = 1;
    print(alkdkldskdlsklklds + 2);
    var gggggg = alkdkldskdlsklklds + 100;
    return null;
  }

  DRAGKGGGGGGGGGGGGG?
      generateP1R323R32RR231o12112124551212215345dfs4534534343sdf44464545sKl(
          PlanetType1 themeP,
          bool idIdiD,
          DRAGK draaaa,
          int f1,
          int ff1,
          int fff1) {
    final String askldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklklds = 1;
    final String askldska1dksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjk1fgjkgfjk = Offset.infinite;
    final alkdkldskdlsk1lklds = 1;
    final String askld1skadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkg1fjkfgjkgfjk = Offset.infinite;
    final alkdkldskdl1sklklds = 1;
    final String askl1dskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gf1kgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskd1lsklklds = 1;
    final String ask1ldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfk1gfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklk11lds = 1;
    print(alkdkldskdlsklklds + 2);
    var gggggg = alkdkldskdlsklklds + 100;
    return null;
  }

  DRAGKGGGGGGGGGGGGG?
      generateP1R323R32RR231o12112124551212215345dfd4534534343sdf44464545sKl(
          PlanetType1 themeP,
          bool idIdiD,
          DRAGK draaaa,
          int f1,
          int ff1,
          int fff1) {
    final String askldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklklds = 1;
    final String askldska1dksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjk1fgjkgfjk = Offset.infinite;
    final alkdkldskdlsk1lklds = 1;
    final String askld1skadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkg1fjkfgjkgfjk = Offset.infinite;
    final alkdkldskdl1sklklds = 1;
    final String askl1dskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gf1kgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskd1lsklklds = 1;
    final String ask1ldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfk1gfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklk11lds = 1;
    print(alkdkldskdlsklklds + 2);
    var gggggg = alkdkldskdlsklklds + 100;
    return null;
  }

  DRAGKGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG
      generateP11o1211212121221534WWW53sTRTdf44464545hdfgssKl(
          int xKk, int yKk, PlanetType1 themeP) {
    final xKDr = xKk;
    final yKDr = yKk;
    final themePld = themeP;
    final cenPositiond =
        Offset((25 + 50 * xKDr).toDouble(), (25 + 50 * yKDr).toDouble());

    return DRAGKGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG
        .Dr;
  }

  @override
  State<EkranGlavni1> createState() => _EkranGlavni1State();
}

class _EkranGlavni1State extends State<EkranGlavni1> {
  @override
  void initState() {
    super.initState();
    if (Hranilishe1.hranilishe!.getBool('muc') ?? true) {
      Musica1.dancedance1('bg_mus.mp3');
    }
  }

  DRAGKGGGGGGGGGGGGG?
      generateP1R323R32RR231o121121245512122vvvx153454534534343sdf44464545sKl(
          PlanetType1 themeP,
          bool idIdiD,
          DRAGK draaaa,
          int f1,
          int ff1,
          int fff1) {
    final String askldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklklds = 1;
    final String askldska1dksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjk1fgjkgfjk = Offset.infinite;
    final alkdkldskdlsk1lklds = 1;
    final String askld1skadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkg1fjkfgjkgfjk = Offset.infinite;
    final alkdkldskdl1sklklds = 1;
    final String askl1dskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gf1kgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskd1lsklklds = 1;
    final String ask1ldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfk1gfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklk11lds = 1;
    print(alkdkldskdlsklklds + 2);
    var gggggg = alkdkldskdlsklklds + 100;
    return null;
  }

  DRAGKGGGGGGGGGGGGG?
      generateP1R323R32RR231o12112124551212215345453453vx4343sdf44464545sKl(
          PlanetType1 themeP,
          bool idIdiD,
          DRAGK draaaa,
          int f1,
          int ff1,
          int fff1) {
    final String askldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklklds = 1;
    final String askldska1dksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjk1fgjkgfjk = Offset.infinite;
    final alkdkldskdlsk1lklds = 1;
    final String askld1skadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkg1fjkfgjkgfjk = Offset.infinite;
    final alkdkldskdl1sklklds = 1;
    final String askl1dskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gf1kgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskd1lsklklds = 1;
    final String ask1ldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfk1gfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklk11lds = 1;
    print(alkdkldskdlsklklds + 2);
    var gggggg = alkdkldskdlsklklds + 100;
    return null;
  }

  DRAGKGGGGGGGGGGGGG?
      generateP1R323R32RR231o1211212455cxcb12122153454534534343sdf44464545sKl(
          PlanetType1 themeP,
          bool idIdiD,
          DRAGK draaaa,
          int f1,
          int ff1,
          int fff1) {
    final String askldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklklds = 1;
    final String askldska1dksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjk1fgjkgfjk = Offset.infinite;
    final alkdkldskdlsk1lklds = 1;
    final String askld1skadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkg1fjkfgjkgfjk = Offset.infinite;
    final alkdkldskdl1sklklds = 1;
    final String askl1dskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gf1kgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskd1lsklklds = 1;
    final String ask1ldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfk1gfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklk11lds = 1;
    print(alkdkldskdlsklklds + 2);
    var gggggg = alkdkldskdlsklklds + 100;
    return null;
  }

  DRAGKGGGGGGGGGGGGG?
      generateP1R323R32RR231o12112124551212215345dfs4534534343sdf44464545sKl(
          PlanetType1 themeP,
          bool idIdiD,
          DRAGK draaaa,
          int f1,
          int ff1,
          int fff1) {
    final String askldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklklds = 1;
    final String askldska1dksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjk1fgjkgfjk = Offset.infinite;
    final alkdkldskdlsk1lklds = 1;
    final String askld1skadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkg1fjkfgjkgfjk = Offset.infinite;
    final alkdkldskdl1sklklds = 1;
    final String askl1dskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gf1kgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskd1lsklklds = 1;
    final String ask1ldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfk1gfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklk11lds = 1;
    print(alkdkldskdlsklklds + 2);
    var gggggg = alkdkldskdlsklklds + 100;
    return null;
  }

  DRAGKGGGGGGGGGGGGG?
      generateP1R323R32RR231o12112124551212215345dfd4534534343sdf44464545sKl(
          PlanetType1 themeP,
          bool idIdiD,
          DRAGK draaaa,
          int f1,
          int ff1,
          int fff1) {
    final String askldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklklds = 1;
    final String askldska1dksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkgfjk1fgjkgfjk = Offset.infinite;
    final alkdkldskdlsk1lklds = 1;
    final String askld1skadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfkg1fjkfgjkgfjk = Offset.infinite;
    final alkdkldskdl1sklklds = 1;
    final String askl1dskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gf1kgfjkfgjkgfjk = Offset.infinite;
    final alkdkldskd1lsklklds = 1;
    final String ask1ldskadksak = 'аугарцгуагрцугарцуац1212212';
    final Offset gfk1gfjkfgjkgfjk = Offset.infinite;
    final alkdkldskdlsklk11lds = 1;
    print(alkdkldskdlsklklds + 2);
    var gggggg = alkdkldskdlsklklds + 100;
    return null;
  }

  @override
  Widget build(BuildContext context) {
    return Container(
      decoration: BoxDecoration(
        image: DecorationImage(
            image: AssetImage('assets/bg/main_bg.png'),
            filterQuality: FilterQuality.high,
            fit: BoxFit.fill),
      ),
      child: SafeArea(
        child: Scaffold(
          backgroundColor: Colors.transparent,
          body: Column(
            mainAxisAlignment: MainAxisAlignment.spaceBetween,
            children: [
              Padding(
                padding:
                    const EdgeInsets.symmetric(horizontal: 24).copyWith(top: 8),
                child: Row(
                  mainAxisAlignment: MainAxisAlignment.spaceBetween,
                  children: [
                    Row(
                      children: [
                        SizedBox(
                          width: 48,
                          height: 48,
                          child: Stack(
                            alignment: Alignment.center,
                            children: [
                              Image.asset('assets/decor/bsteps.png'),
                              Padding(
                                padding:
                                    const EdgeInsets.only(bottom: 2.0, left: 0),
                                child: Obx(
                                  () => Text(
                                    Moneti1.bst.value.toString(),
                                    textAlign: TextAlign.center,
                                    style: TextStyle(
                                      fontSize: 16,
                                      fontWeight: FontWeight.w700,
                                      color: Colors.white,
                                      shadows: [
                                        Shadow(
                                          offset: const Offset(0, 1),
                                          blurRadius: 0,
                                          color: Color.fromRGBO(0, 0, 0, 0.2),
                                        ),
                                      ],
                                    ),
                                  ),
                                ),
                              ),
                            ],
                          ),
                        ),
                        SizedBox(
                          width: 8,
                        ),
                        Stack(
                          children: [
                            Container(
                              height: 48,
                              width: 107,
                              decoration: BoxDecoration(
                                color: Color.fromRGBO(223, 215, 255, 1),
                                borderRadius: BorderRadius.circular(48),
                                border:
                                    Border.all(width: 3, color: Colors.white),
                                boxShadow: [
                                  BoxShadow(
                                    offset: Offset(0, 2),
                                    color: Color.fromRGBO(0, 0, 0, 0.2),
                                  ),
                                ],
                              ),
                            ),
                            SizedBox(
                              width: 107,
                              child: Row(
                                children: [
                                  Image.asset(
                                    'assets/decor/almaz.png',
                                    height: 48,
                                    width: 48,
                                  ),
                                  SizedBox(
                                    width: 5,
                                  ),
                                  Container(
                                    constraints: BoxConstraints(minWidth: 48),
                                    alignment: Alignment.center,
                                    child: Obx(
                                      () => Text(
                                        Moneti1.alm.value.toString(),
                                        style: TextStyle(
                                            fontSize: 18,
                                            fontWeight: FontWeight.w700,
                                            color:
                                                Color.fromRGBO(90, 56, 191, 1)),
                                      ),
                                    ),
                                  )
                                ],
                              ),
                            ),
                          ],
                        ),
                      ],
                    ),
                    Row(
                      children: [
                        GestureDetector(
                          onTap: daili1,
                          child: Image.asset(
                            'assets/decor/gift_btn.png',
                            height: 48,
                            width: 48,
                          ),
                        ),
                        SizedBox(
                          width: 8,
                        ),
                        GestureDetector(
                          onTap: seseDlg1,
                          child: Image.asset(
                            'assets/decor/settings.png',
                            height: 48,
                            width: 48,
                          ),
                        ),
                      ],
                    ),
                  ],
                ),
              ),
              Container(
                padding: EdgeInsets.symmetric(horizontal: 24),
                child: Column(
                  children: [
                    GestureDetector(
                      onTap: () {
                        Get.to(() => PlPg1(), binding: PtBds1());
                      },
                      child: Knopka1(
                        rebenokDr: Text(
                          'PLAY',
                          style: TextStyle(
                              fontSize: 18,
                              fontWeight: FontWeight.w600,
                              color: Colors.white),
                        ),
                        tsvetDr: Color.fromRGBO(255, 144, 81, 1),
                        tenTsvetDr: Color.fromRGBO(54, 16, 166, 0.4),
                        borColDr: Colors.white,
                      ),
                    ),
                    SizedBox(
                      height: 16,
                    ),
                    GestureDetector(
                      onTap: () {
                        spermDr1();
                      },
                      child: Knopka1(
                        rebenokDr: Text(
                          'PREMIUM'.toUpperCase(),
                          style: TextStyle(
                              fontSize: 18,
                              fontWeight: FontWeight.w600,
                              color: Colors.white),
                        ),
                        tsvetDr: Color.fromRGBO(170, 141, 255, 1),
                        tenTsvetDr: Color.fromRGBO(54, 16, 166, 0.4),
                        borColDr: Colors.white,
                      ),
                    ),
                    SizedBox(
                      height: 16,
                    ),
                    GestureDetector(
                      onTap: () {
                        exit(0);
                      },
                      child: Knopka1(
                        rebenokDr: Text(
                          'QUIT'.toUpperCase(),
                          style: TextStyle(
                              fontSize: 18,
                              fontWeight: FontWeight.w600,
                              color: Colors.white),
                        ),
                        tsvetDr: Color.fromRGBO(170, 141, 255, 1),
                        tenTsvetDr: Color.fromRGBO(54, 16, 166, 0.4),
                        borColDr: Colors.white,
                      ),
                    ),
                    SizedBox(
                      height: 16,
                    ),
                  ],
                ),
              ),
            ],
          ),
        ),
      ),
    );
  }

  Future<void> daili1() {
    return showModalBottomSheet(
      context: context,
      backgroundColor: Colors.transparent,
      isScrollControlled: true,
      builder: (_) => BackdropFilter(
        filter: ImageFilter.blur(sigmaX: 20, sigmaY: 20),
        child: Column(
          mainAxisAlignment: MainAxisAlignment.end,
          children: [
            DailiWd1(),
          ],
        ),
      ),
    );
  }

  Future<void> spermDr1() {
    return showModalBottomSheet(
      context: context,
      backgroundColor: Colors.transparent,
      isScrollControlled: true,
      builder: (_) => BackdropFilter(
        filter: ImageFilter.blur(sigmaX: 20, sigmaY: 20),
        child: Column(
          mainAxisAlignment: MainAxisAlignment.end,
          children: [
            SpermDr(),
          ],
        ),
      ),
    );
  }

  void seseDlg1() {
    RxBool muc = (Hranilishe1.hranilishe!.getBool('muc') ?? true).obs;
    showDialog(
      context: context,
      barrierColor: Colors.transparent,
      builder: (context) => BackdropFilter(
        filter: ImageFilter.blur(sigmaX: 10, sigmaY: 10),
        child: IntrinsicHeight(
          child: Material(
            color: Colors.transparent,
            child: Column(
              mainAxisAlignment: MainAxisAlignment.center,
              mainAxisSize: MainAxisSize.min,
              crossAxisAlignment: CrossAxisAlignment.stretch,
              children: [
                Container(
                  margin: const EdgeInsets.symmetric(horizontal: 24),
                  decoration: BoxDecoration(
                    color: Colors.white,
                    borderRadius: BorderRadius.circular(40),
                  ),
                  child: IntrinsicHeight(
                    child: Column(
                      mainAxisSize: MainAxisSize.max,
                      crossAxisAlignment: CrossAxisAlignment.stretch,
                      children: [
                        Container(
                          alignment: Alignment.centerRight,
                          padding: EdgeInsets.all(24).copyWith(bottom: 0),
                          child: GestureDetector(
                            onTap: Get.back,
                            child: Image.asset(
                              'assets/decor/krest.png',
                              width: 20,
                              height: 20,
                            ),
                          ),
                        ),
                        SizedBox(
                          height: 4,
                        ),
                        Center(
                          child: Text(
                            'SETTINGS'.toUpperCase(),
                            style: TextStyle(
                                color: Color.fromRGBO(40, 10, 130, 1),
                                fontSize: 28,
                                fontWeight: FontWeight.w700),
                          ),
                        ),
                        SizedBox(
                          height: 20,
                        ),
                        Padding(
                          padding: const EdgeInsets.all(16),
                          child: Column(
                            children: [
                              GestureDetector(
                                onTap: () {
                                  muc.toggle();
                                  if (muc.value) {
                                    Musica1.dancedance1('bg_mus.mp3');
                                    Hranilishe1.hranilishe!
                                        .setBool('muc', true);
                                  } else {
                                    Musica1.breakALeg1();
                                    Hranilishe1.hranilishe!
                                        .setBool('muc', false);
                                  }
                                },
                                child: Obx(
                                  () => Knopka1(
                                      rebenokDr: Text(
                                        muc.value ? 'MUSIC ON' : 'MUSIC OFF',
                                        style: TextStyle(
                                            color: Colors.white,
                                            fontSize: 18,
                                            fontWeight: FontWeight.w600),
                                      ),
                                      tsvetDr: muc.value
                                          ? Color.fromRGBO(170, 141, 255, 1)
                                          : Color.fromRGBO(185, 185, 185, 1),
                                      tenTsvetDr:
                                          Color.fromRGBO(144, 144, 144, 0.4),
                                      borColDr: Colors.white),
                                ),
                              ),
                              SizedBox(
                                height: 16,
                              ),
                              GestureDetector(
                                  onTap: () {
                                    Get.to(() => SomeSomeEkran1(
                                          ttttt: 'Privacy Policy',
                                        ));
                                  },
                                  child: Knopka1(
                                      heightDr: 50,
                                      rebenokDr: Text(
                                        'Privacy Policy'.toUpperCase(),
                                        style: TextStyle(
                                            fontSize: 18,
                                            fontWeight: FontWeight.w600,
                                            color: Colors.white),
                                      ),
                                      tsvetDr: Color.fromRGBO(170, 141, 255, 1),
                                      tenTsvetDr:
                                          Color.fromRGBO(54, 16, 166, 0.4),
                                      borColDr: Colors.white)),
                              SizedBox(
                                height: 16,
                              ),
                              GestureDetector(
                                onTap: () {
                                  Get.to(() => SomeSomeEkran1(
                                        ttttt: 'Terms of Use',
                                      ));
                                },
                                child: Knopka1(
                                    rebenokDr: Text(
                                      'TERMS OF USE',
                                      style: TextStyle(
                                          color: Colors.white,
                                          fontSize: 18,
                                          fontWeight: FontWeight.w600),
                                    ),
                                    tsvetDr: Color.fromRGBO(170, 141, 255, 1),
                                    tenTsvetDr:
                                        Color.fromRGBO(144, 144, 144, 0.4),
                                    borColDr: Colors.white),
                              ),
                              SizedBox(
                                height: 16,
                              ),
                              GestureDetector(
                                onTap: () {
                                  Get.to(() => SomeSomeEkran1(
                                        ttttt: 'SUPPORT',
                                      ));
                                },
                                child: Knopka1(
                                    rebenokDr: Text(
                                      'SUPPORT',
                                      style: TextStyle(
                                          color: Colors.white,
                                          fontSize: 18,
                                          fontWeight: FontWeight.w600),
                                    ),
                                    tsvetDr: Color.fromRGBO(170, 141, 255, 1),
                                    tenTsvetDr:
                                        Color.fromRGBO(144, 144, 144, 0.4),
                                    borColDr: Colors.white),
                              ),
                            ],
                          ),
                        ),
                      ],
                    ),
                  ),
                ),
              ],
            ),
          ),
        ),
      ),
    );
  }
}

class DailiWd1 extends StatefulWidget {
  const DailiWd1({super.key});

  @override
  State<DailiWd1> createState() => _DailiWd1State();
}

class _DailiWd1State extends State<DailiWd1> {
  final Rx<DateTime> dtm = DateTime.now().obs;
  final Rx<DateTime> lstDtm = DateTime.parse(
          Hranilishe1.hranilishe!.getString('ldtm') ??
              '2023-04-19 13:39:20.978693')
      .obs;
  late final Timer _tr;

  @override
  void initState() {
    super.initState();

    _tr = Timer.periodic(const Duration(seconds: 1), (timer) {
      dtm.value = DateTime.now();
    });
  }

  @override
  void dispose() {
    _tr.cancel();
    super.dispose();
  }

  int _daysDif1(Rx<DateTime> fr, Rx<DateTime> cr) {
    return cr.value.difference(fr.value).inDays;
  }

  @override
  Widget build(BuildContext context) {
    return Container(
      width: MediaQuery.of(context).size.width,
      padding: EdgeInsets.all(16).copyWith(bottom: 32),
      decoration: BoxDecoration(
          color: Colors.white,
          borderRadius: BorderRadius.only(
            topLeft: Radius.circular(24),
            topRight: Radius.circular(24),
          )),
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.center,
        children: [
          Row(
            mainAxisAlignment: MainAxisAlignment.spaceBetween,
            children: [
              SizedBox(
                width: 24,
              ),
              Text(
                'Daily Gift'.toUpperCase(),
                style: TextStyle(
                    fontSize: 24,
                    fontWeight: FontWeight.w700,
                    color: Color.fromRGBO(90, 56, 191, 1)),
              ),
              GestureDetector(
                onTap: () {
                  Get.back();
                },
                child: Image.asset(
                  'assets/decor/krest.png',
                  width: 24,
                ),
              ),
            ],
          ),
          SizedBox(
            height: 18,
          ),
          Obx(
            () => AnimatedSwitcher(
              duration: const Duration(milliseconds: 2000),
              transitionBuilder: (child, anim) =>
                  FadeTransition(opacity: anim, child: child),
              child: _daysDif1(lstDtm, dtm) > 1
                  ? Image.asset(
                      'assets/decor/chest.png',
                      width: 96,
                    )
                  : Image.asset(
                      'assets/decor/open_chest.png',
                      width: 96,
                    ),
            ),
          ),
          SizedBox(
            height: 24,
          ),
          Obx(
            () => AnimatedOpacity(
              duration: Duration(milliseconds: 2000),
              opacity: _daysDif1(lstDtm, dtm) < 1 ? 1 : 0,
              child: Column(
                children: [
                  Text(
                    'YOU GOT 5 BACK STEPS'.toUpperCase(),
                    style: TextStyle(
                        fontSize: 24,
                        fontWeight: FontWeight.w700,
                        color: Color.fromRGBO(90, 56, 191, 1)),
                  ),
                  SizedBox(
                    height: 12,
                  ),
                ],
              ),
            ),
          ),
          Obx(() => _daysDif1(lstDtm, dtm) > 1
              ? GestureDetector(
                  onTap: () {
                    lstDtm.value = DateTime.now();
                    Moneti1.setBs1(5);
                    Hranilishe1.hranilishe!
                        .setString('ldtm', DateTime.now().toString());
                  },
                  child: Knopka1(
                      heightDr: 56,
                      rebenokDr: Text(
                        'collect gift back steps'.toUpperCase(),
                        style: TextStyle(
                            fontSize: 18,
                            fontWeight: FontWeight.w600,
                            color: Colors.white),
                      ),
                      tsvetDr: Color.fromRGBO(170, 141, 255, 1),
                      tenTsvetDr: Color.fromRGBO(54, 16, 166, 0.4),
                      borColDr: Colors.white),
                )
              : Knopka1(
                  borWidDr: 3,
                  rebenokDr: Builder(builder: (context) {
                    final dds = dtm.value.difference(lstDtm.value).inSeconds;
                    return Text(
                      '${23 - (dds ~/ 3600)}h ${59 - ((dds % 3600) ~/ 60)}m ${59 - (dds % 60)}s left'
                          .toUpperCase(),
                      style: TextStyle(
                          fontSize: 18,
                          fontWeight: FontWeight.w400,
                          color: Color.fromRGBO(165, 55, 55, 1)),
                    );
                  }),
                  tsvetDr: Color.fromRGBO(255, 215, 215, 1),
                  tenTsvetDr: Color.fromRGBO(54, 16, 166, 0.4),
                  borColDr: Colors.white)),
        ],
      ),
    );
  }
}

class SpermDr extends StatefulWidget {
  const SpermDr({super.key});

  @override
  State<SpermDr> createState() => _SpermDrState();
}

class _SpermDrState extends State<SpermDr> {
  RxBool _plLo = false.obs;
  RxBool _reLo = false.obs;
  RxBool _preAc = (Hranilishe1.hranilishe!.getBool('spermDr') ?? false).obs;

  @override
  Widget build(BuildContext context) {
    return Container(
      width: MediaQuery.of(context).size.width,
      padding: EdgeInsets.all(16).copyWith(bottom: 32),
      decoration: BoxDecoration(
          color: Colors.white,
          borderRadius: BorderRadius.only(
            topLeft: Radius.circular(24),
            topRight: Radius.circular(24),
          )),
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.center,
        children: [
          Row(
            mainAxisAlignment: MainAxisAlignment.spaceBetween,
            children: [
              SizedBox(
                width: 24,
              ),
              Text(
                'Premium Features'.toUpperCase(),
                style: TextStyle(
                    fontSize: 24,
                    fontWeight: FontWeight.w700,
                    color: Color.fromRGBO(90, 56, 191, 1)),
              ),
              GestureDetector(
                onTap: () {
                  Get.back();
                },
                child: Image.asset(
                  'assets/decor/krest.png',
                  width: 24,
                ),
              ),
            ],
          ),
          SizedBox(
            height: 28,
          ),
          Image.asset(
            'assets/decor/blue_pl.png',
            height: 81,
          ),
          SizedBox(
            height: 8,
          ),
          Container(
            width: double.infinity,
            padding: EdgeInsets.only(top: 22, bottom: 28),
            decoration: BoxDecoration(
              color: Color.fromRGBO(223, 215, 255, 1),
              borderRadius: BorderRadius.circular(97),
              border: Border.all(color: Colors.white, width: 3),
              boxShadow: [
                BoxShadow(
                  offset: Offset(0, 2),
                  color: Color.fromRGBO(0, 0, 0, 0.2),
                ),
              ],
            ),
            child: Column(
              mainAxisAlignment: MainAxisAlignment.center,
              children: [
                Text(
                  'No ADs'.toUpperCase(),
                  style: TextStyle(
                      fontSize: 18,
                      fontWeight: FontWeight.w600,
                      color: Color.fromRGBO(90, 56, 191, 1)),
                ),
                SizedBox(
                  height: 12,
                ),
                Text(
                  '6 extra levels'.toUpperCase(),
                  style: TextStyle(
                      fontSize: 18,
                      fontWeight: FontWeight.w600,
                      color: Color.fromRGBO(90, 56, 191, 1)),
                ),
              ],
            ),
          ),
          SizedBox(
            height: 12,
          ),
          Obx(
            () => _preAc.value
                ? Container(
                    width: double.infinity,
                    padding: EdgeInsets.only(top: 16, bottom: 16),
                    decoration: BoxDecoration(
                      color: Color.fromRGBO(215, 255, 236, 1),
                      borderRadius: BorderRadius.circular(97),
                      border: Border.all(color: Colors.white, width: 3),
                      boxShadow: [
                        BoxShadow(
                          offset: Offset(0, 2),
                          color: Color.fromRGBO(0, 0, 0, 0.2),
                        ),
                      ],
                    ),
                    alignment: Alignment.center,
                    child: Row(
                      mainAxisAlignment: MainAxisAlignment.center,
                      children: [
                        Text(
                          'ACTIVATED'.toUpperCase(),
                          style: TextStyle(
                              fontSize: 18,
                              fontWeight: FontWeight.w600,
                              color: Color.fromRGBO(55, 165, 72, 1)),
                        ),
                        SizedBox(
                          width: 10,
                        ),
                        Image.asset(
                          'assets/decor/done_pr.png',
                          filterQuality: FilterQuality.high,
                          height: 16,
                        )
                      ],
                    ),
                  )
                : Column(
                    children: [
                      GestureDetector(
                        onTap: () async {
                          if (!_plLo.value) {
                            _plLo.value = true;
                            final wwwwww = await Apphud.paywalls();
                            print(wwwwww?.paywalls.first.products!);

                            final ananan = await Apphud.purchase(
                              product: wwwwww?.paywalls.first.products!
                                  .where((fodpofdopfd) =>
                                      fodpofdopfd.productId == 'premium')
                                  .toList()
                                  .first,
                            );
                            if (ananan.error == null) {
                              Hranilishe1.hranilishe!.setBool('spermDr', true);
                              Hranilishe1.hranilishe!.setBool('blue', true);
                              _preAc.value = true;
                            }

                            _plLo.value = false;
                          }
                        },
                        child: Container(
                          width: double.infinity,
                          padding: EdgeInsets.only(top: 16, bottom: 16),
                          decoration: BoxDecoration(
                            color: Color.fromRGBO(255, 144, 81, 1),
                            borderRadius: BorderRadius.circular(97),
                            border: Border.all(color: Colors.white, width: 1),
                            boxShadow: [
                              BoxShadow(
                                offset: Offset(0, 2),
                                color: Color.fromRGBO(54, 16, 166, 0.4),
                              ),
                            ],
                          ),
                          alignment: Alignment.center,
                          child: Obx(
                            () => _plLo.value
                                ? CupertinoActivityIndicator()
                                : Text(
                                    'Buy Premium for 0.99\$'.toUpperCase(),
                                    style: TextStyle(
                                        fontSize: 18,
                                        fontWeight: FontWeight.w600,
                                        color:
                                            Color.fromRGBO(255, 255, 255, 1)),
                                  ),
                          ),
                        ),
                      ),
                      SizedBox(
                        height: 12,
                      ),
                      GestureDetector(
                        onTap: () async {
                          if (!_reLo.value) {
                            _reLo.value = true;
                            final ApphudComposite restPu =
                                await Apphud.restorePurchases();

                            bool failPu = true;

                            if (restPu.purchases.isNotEmpty) {
                              for (final pu in restPu.purchases) {
                                if (pu.productId == 'premium') {
                                  Hranilishe1.hranilishe!
                                      .setBool('spermDr', true);
                                  await Hranilishe1.hranilishe!
                                      .setBool('blue', true);
                                  _preAc.value = true;
                                  failPu = false;
                                  break;
                                }
                              }
                            }

                            if (failPu) {
                              ScaffoldMessenger.of(context).showSnackBar(
                                SnackBar(
                                  backgroundColor: Colors.red,
                                  content: Text('Your purchase is not found'),
                                ),
                              );
                            }

                            _reLo.value = false;
                          }
                        },
                        child: Container(
                          width: double.infinity,
                          padding: EdgeInsets.only(top: 16, bottom: 16),
                          decoration: BoxDecoration(
                            color: Color.fromRGBO(170, 141, 255, 1),
                            borderRadius: BorderRadius.circular(97),
                            border: Border.all(color: Colors.white, width: 1),
                            boxShadow: [
                              BoxShadow(
                                offset: Offset(0, 2),
                                color: Color.fromRGBO(54, 16, 166, 0.4),
                              ),
                            ],
                          ),
                          alignment: Alignment.center,
                          child: Obx(
                            () => _reLo.value
                                ? CupertinoActivityIndicator()
                                : Text(
                                    'Restore Purchase'.toUpperCase(),
                                    style: TextStyle(
                                        fontSize: 18,
                                        fontWeight: FontWeight.w600,
                                        color:
                                            Color.fromRGBO(255, 255, 255, 1)),
                                  ),
                          ),
                        ),
                      ),
                    ],
                  ),
          ),
          SizedBox(
            height: 16,
          ),
        ],
      ),
    );
  }
}
